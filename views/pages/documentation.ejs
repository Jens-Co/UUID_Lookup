<%- include('../partials/head.ejs') %>
<%- include('../partials/header.ejs') %>

<body>
    <div class="container">
        <p style="text-align:center">Total Requests made to our API: <%= requestCount %>
        </p>

        <div class="makeRequest">
            <H3>How to make a request to our api.</H3>
            <p style="text-align:center">
                JavaScript example
            </p>
            <pre>
                <code class="language-js">
                    const gamertag = "KobeNetwork";
                    const url = `https://kejona.dev/api/v1/gamertag/${gamertag}`;
                    
                    fetch(url)
                    .then(response => response.json())
                    .then(data => {
                        const jsonObj = {
                        gamertag: data.gamertag,
                        xuid: data.xuid,
                        floodgateuid: data.floodgateuid,
                        icon: data.icon
                        };
                        // get the value of "gamertag"
                        const gamertag = jsonObject.gamertag;
                        console.log("Gamertag: " + gamertag);
                        
                        // get the value of "xuid"
                        const xuid = jsonObject.xuid;
                        console.log("XUID: " + xuid);
                        
                        // get the value of "floodgateuid"
                        const floodgateuid = jsonObject.floodgateuid;
                        console.log("FloodgateUID: " + floodgateuid);
                        
                        // get the value of "icon"
                        const icon = jsonObject.icon;
                        console.log("Icon: " + icon);
                        })
                    .catch(error => {
                        console.error(error);
                    });
                </code>
                </pre>
            <br>
            <p style="text-align:center">
                Java example
            </p>
            <pre>
                <code class="language-java">
                    String gamertag = "KobeNetwork";
                    String url = "https://kejona.dev/api/v1/gamertag/" + gamertag;
            
                    OkHttpClient client = new OkHttpClient();
            
                    Request request = new Request.Builder()
                            .url(url)
                            .build();
            
                    try (Response response = client.newCall(request).execute()) {
                        // Check if the response was successful
                        if (!response.isSuccessful()) {
                            throw new IOException("Unexpected HTTP response: " + response);
                        }
            
                        // Parse the response JSON and create a JSONObject
                        JSONObject jsonObj = new JSONObject(response.body().string());
                        
                        // get the value of "gamertag"
                        String gamertag = jsonObj.getString("gamertag");
                        System.out.println("Gamertag: " + gamertag);
                        
                        // get the value of "xuid"
                        String xuid = jsonObj.getString("xuid");
                        System.out.println("XUID: " + xuid);
                        
                        // get the value of "floodgateuid"
                        String floodgateuid = jsonObj.getString("floodgateuid");
                        System.out.println("FloodgateUID: " + floodgateuid);
                        
                        // get the value of "icon"
                        String icon = jsonObj.getString("icon");
                        System.out.println("Icon: " + icon);
                        
                        } catch (IOException e) {
                        e.printStackTrace();
                    }
                </code>
                </pre>
        </div>
    </div>
</body>

<%- include('../partials/footer.ejs') %>